<div class="dashboard-layout">
    <app-navbar></app-navbar>

    <mat-sidenav-container class="sidenav-container">
        <mat-sidenav mode="side" opened class="sidenav">
            <app-sidebar></app-sidebar>
        </mat-sidenav>

        <mat-sidenav-content class="main-content">
            <div class="dashboard-content">
                <h1>Dashboard</h1>

                <!-- Stats Cards -->
                <div class="stats-grid">
                    <mat-card class="stat-card">
                        <mat-card-content>
                            <div class="stat-icon" style="background-color: #4CAF50;">
                                <mat-icon>group</mat-icon>
                            </div>
                            <div class="stat-info">
                                <h3>{{ stats.totalTeams }}</h3>
                                <p>Teams</p>
                            </div>
                        </mat-card-content>
                    </mat-card>

                    <mat-card class="stat-card">
                        <mat-card-content>
                            <div class="stat-icon" style="background-color: #2196F3;">
                                <mat-icon>folder</mat-icon>
                            </div>
                            <div class="stat-info">
                                <h3>{{ stats.totalProjects }}</h3>
                                <p>Projects</p>
                            </div>
                        </mat-card-content>
                    </mat-card>

                    <mat-card class="stat-card">
                        <mat-card-content>
                            <div class="stat-icon" style="background-color: #FF9800;">
                                <mat-icon>assignment</mat-icon>
                            </div>
                            <div class="stat-info">
                                <h3>{{ stats.totalTasks }}</h3>
                                <p>Total Tasks</p>
                            </div>
                        </mat-card-content>
                    </mat-card>

                    <mat-card class="stat-card">
                        <mat-card-content>
                            <div class="stat-icon" style="background-color: #9C27B0;">
                                <mat-icon>check_circle</mat-icon>
                            </div>
                            <div class="stat-info">
                                <h3>{{ stats.completedTasks }}</h3>
                                <p>Completed</p>
                            </div>
                        </mat-card-content>
                    </mat-card>
                </div>

                <!-- Recent Teams -->
                <div class="section">
                    <div class="section-header">
                        <h2>My Teams</h2>
                        <button mat-raised-button color="primary" routerLink="/teams/create">
                            <mat-icon>add</mat-icon> Create Team
                        </button>
                    </div>

                    <div *ngIf="loading" class="loading">
                        <mat-spinner></mat-spinner>
                    </div>

                    <div *ngIf="!loading && teams.length > 0" class="teams-grid">
                        <mat-card *ngFor="let team of teams" class="team-card" [routerLink]="['/teams', team.id]">
                            <mat-card-header>
                                <mat-card-title>{{ team.name }}</mat-card-title>
                                <mat-card-subtitle>{{ team.memberCount }} members</mat-card-subtitle>
                            </mat-card-header>
                            <mat-card-content>
                                <p>{{ team.description || 'No description' }}</p>
                            </mat-card-content>
                            <mat-card-actions>
                                <button mat-button color="primary">View Details</button>
                            </mat-card-actions>
                        </mat-card>
                    </div>

                    <div *ngIf="!loading && teams.length === 0" class="empty-state">
                        <mat-icon>group_off</mat-icon>
                        <h3>No teams yet</h3>
                        <p>Create your first team to get started</p>
                        <button mat-raised-button color="primary" routerLink="/teams/create">
                            Create Team
                        </button>
                    </div>
                </div>
            </div>
        </mat-sidenav-content>
    </mat-sidenav-container>
</div>